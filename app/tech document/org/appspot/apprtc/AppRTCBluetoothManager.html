<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_242-release) on Mon Aug 17 18:18:22 IST 2020 -->
<title>AppRTCBluetoothManager</title>
<meta name="date" content="2020-08-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AppRTCBluetoothManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/appspot/apprtc/AppRTCAudioManager.WiredHeadsetReceiver.html" title="class in org.appspot.apprtc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.BluetoothHeadsetBroadcastReceiver.html" title="class in org.appspot.apprtc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/appspot/apprtc/AppRTCBluetoothManager.html" target="_top">Frames</a></li>
<li><a href="AppRTCBluetoothManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.appspot.apprtc</div>
<h2 title="Class AppRTCBluetoothManager" class="title">Class AppRTCBluetoothManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.appspot.apprtc.AppRTCBluetoothManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">AppRTCBluetoothManager</span>
extends java.lang.Object</pre>
<div class="block">AppRTCProximitySensor manages functions related to Bluetoth devices in the
 AppRTC demo.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.BluetoothHeadsetBroadcastReceiver.html" title="class in org.appspot.apprtc">AppRTCBluetoothManager.BluetoothHeadsetBroadcastReceiver</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.BluetoothServiceListener.html" title="class in org.appspot.apprtc">AppRTCBluetoothManager.BluetoothServiceListener</a></span></code>
<div class="block">Implementation of an interface that notifies BluetoothProfile IPC clients when they have been
 connected to or disconnected from the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.State.html" title="enum in org.appspot.apprtc">AppRTCBluetoothManager.State</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#apprtcAudioManager">apprtcAudioManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.content.Context</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#apprtcContext">apprtcContext</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.media.AudioManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#audioManager">audioManager</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#BLUETOOTH_SCO_TIMEOUT_MS">BLUETOOTH_SCO_TIMEOUT_MS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.bluetooth.BluetoothAdapter</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothAdapter">bluetoothAdapter</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.bluetooth.BluetoothDevice</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothDevice">bluetoothDevice</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.bluetooth.BluetoothHeadset</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothHeadset">bluetoothHeadset</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.content.BroadcastReceiver</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothHeadsetReceiver">bluetoothHeadsetReceiver</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private android.bluetooth.BluetoothProfile.ServiceListener</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothServiceListener">bluetoothServiceListener</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.State.html" title="enum in org.appspot.apprtc">AppRTCBluetoothManager.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothState">bluetoothState</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Runnable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothTimeoutRunnable">bluetoothTimeoutRunnable</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.os.Handler</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#handler">handler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#MAX_SCO_CONNECTION_ATTEMPTS">MAX_SCO_CONNECTION_ATTEMPTS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#scoConnectionAttempts">scoConnectionAttempts</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#TAG">TAG</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#AppRTCBluetoothManager-android.content.Context-org.appspot.apprtc.AppRTCAudioManager-">AppRTCBluetoothManager</a></span>(android.content.Context&nbsp;context,
                      <a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a>&nbsp;audioManager)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#bluetoothTimeout--">bluetoothTimeout</a></span>()</code>
<div class="block">Called when start of the BT SCO channel takes too long time.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#cancelTimer--">cancelTimer</a></span>()</code>
<div class="block">Cancels any outstanding timer tasks.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html" title="class in org.appspot.apprtc">AppRTCBluetoothManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#create-android.content.Context-org.appspot.apprtc.AppRTCAudioManager-">create</a></span>(android.content.Context&nbsp;context,
      <a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a>&nbsp;audioManager)</code>
<div class="block">Construction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected android.media.AudioManager</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#getAudioManager-android.content.Context-">getAudioManager</a></span>(android.content.Context&nbsp;context)</code>
<div class="block">Stubs for test mocks.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#getBluetoothProfileProxy-android.content.Context-android.bluetooth.BluetoothProfile.ServiceListener-int-">getBluetoothProfileProxy</a></span>(android.content.Context&nbsp;context,
                        android.bluetooth.BluetoothProfile.ServiceListener&nbsp;listener,
                        int&nbsp;profile)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.State.html" title="enum in org.appspot.apprtc">AppRTCBluetoothManager.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#getState--">getState</a></span>()</code>
<div class="block">Returns the internal state.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#hasPermission-android.content.Context-java.lang.String-">hasPermission</a></span>(android.content.Context&nbsp;context,
             java.lang.String&nbsp;permission)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#isScoOn--">isScoOn</a></span>()</code>
<div class="block">Checks whether audio uses Bluetooth SCO.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#logBluetoothAdapterInfo-android.bluetooth.BluetoothAdapter-">logBluetoothAdapterInfo</a></span>(android.bluetooth.BluetoothAdapter&nbsp;localAdapter)</code>
<div class="block">Logs the state of the local Bluetooth adapter.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#registerReceiver-android.content.BroadcastReceiver-android.content.IntentFilter-">registerReceiver</a></span>(android.content.BroadcastReceiver&nbsp;receiver,
                android.content.IntentFilter&nbsp;filter)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#start--">start</a></span>()</code>
<div class="block">Activates components required to detect Bluetooth devices and to enable
 BT SCO (audio is routed via BT SCO) for the headset profile.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#startScoAudio--">startScoAudio</a></span>()</code>
<div class="block">Starts Bluetooth SCO connection with remote device.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#startTimer--">startTimer</a></span>()</code>
<div class="block">Starts timer which times out after BLUETOOTH_SCO_TIMEOUT_MS milliseconds.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#stateToString-int-">stateToString</a></span>(int&nbsp;state)</code>
<div class="block">Converts BluetoothAdapter states into local string representations.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#stop--">stop</a></span>()</code>
<div class="block">Stops and closes all components related to Bluetooth audio.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#stopScoAudio--">stopScoAudio</a></span>()</code>
<div class="block">Stops Bluetooth SCO connection with remote device.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#unregisterReceiver-android.content.BroadcastReceiver-">unregisterReceiver</a></span>(android.content.BroadcastReceiver&nbsp;receiver)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#updateAudioDeviceState--">updateAudioDeviceState</a></span>()</code>
<div class="block">Ensures that the audio manager updates its list of available audio devices.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html#updateDevice--">updateDevice</a></span>()</code>
<div class="block">Use the BluetoothHeadset proxy object (controls the Bluetooth Headset
 Service via IPC) to update the list of connected devices for the HEADSET
 profile.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>private static final&nbsp;java.lang.String TAG</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.appspot.apprtc.AppRTCBluetoothManager.TAG">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="BLUETOOTH_SCO_TIMEOUT_MS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BLUETOOTH_SCO_TIMEOUT_MS</h4>
<pre>private static final&nbsp;int BLUETOOTH_SCO_TIMEOUT_MS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.appspot.apprtc.AppRTCBluetoothManager.BLUETOOTH_SCO_TIMEOUT_MS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_SCO_CONNECTION_ATTEMPTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SCO_CONNECTION_ATTEMPTS</h4>
<pre>private static final&nbsp;int MAX_SCO_CONNECTION_ATTEMPTS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.appspot.apprtc.AppRTCBluetoothManager.MAX_SCO_CONNECTION_ATTEMPTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="apprtcContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apprtcContext</h4>
<pre>private final&nbsp;android.content.Context apprtcContext</pre>
</li>
</ul>
<a name="apprtcAudioManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apprtcAudioManager</h4>
<pre>private final&nbsp;<a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a> apprtcAudioManager</pre>
</li>
</ul>
<a name="audioManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>audioManager</h4>
<pre>private final&nbsp;android.media.AudioManager audioManager</pre>
</li>
</ul>
<a name="handler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handler</h4>
<pre>private final&nbsp;android.os.Handler handler</pre>
</li>
</ul>
<a name="scoConnectionAttempts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scoConnectionAttempts</h4>
<pre>int scoConnectionAttempts</pre>
</li>
</ul>
<a name="bluetoothState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothState</h4>
<pre>private&nbsp;<a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.State.html" title="enum in org.appspot.apprtc">AppRTCBluetoothManager.State</a> bluetoothState</pre>
</li>
</ul>
<a name="bluetoothServiceListener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothServiceListener</h4>
<pre>private final&nbsp;android.bluetooth.BluetoothProfile.ServiceListener bluetoothServiceListener</pre>
</li>
</ul>
<a name="bluetoothAdapter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothAdapter</h4>
<pre>private&nbsp;android.bluetooth.BluetoothAdapter bluetoothAdapter</pre>
</li>
</ul>
<a name="bluetoothHeadset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothHeadset</h4>
<pre>private&nbsp;android.bluetooth.BluetoothHeadset bluetoothHeadset</pre>
</li>
</ul>
<a name="bluetoothDevice">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothDevice</h4>
<pre>private&nbsp;android.bluetooth.BluetoothDevice bluetoothDevice</pre>
</li>
</ul>
<a name="bluetoothHeadsetReceiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothHeadsetReceiver</h4>
<pre>private final&nbsp;android.content.BroadcastReceiver bluetoothHeadsetReceiver</pre>
</li>
</ul>
<a name="bluetoothTimeoutRunnable">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bluetoothTimeoutRunnable</h4>
<pre>private final&nbsp;java.lang.Runnable bluetoothTimeoutRunnable</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AppRTCBluetoothManager-android.content.Context-org.appspot.apprtc.AppRTCAudioManager-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AppRTCBluetoothManager</h4>
<pre>protected&nbsp;AppRTCBluetoothManager(android.content.Context&nbsp;context,
                                 <a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a>&nbsp;audioManager)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create-android.content.Context-org.appspot.apprtc.AppRTCAudioManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>static&nbsp;<a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.html" title="class in org.appspot.apprtc">AppRTCBluetoothManager</a>&nbsp;create(android.content.Context&nbsp;context,
                                     <a href="../../../org/appspot/apprtc/AppRTCAudioManager.html" title="class in org.appspot.apprtc">AppRTCAudioManager</a>&nbsp;audioManager)</pre>
<div class="block">Construction.</div>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.State.html" title="enum in org.appspot.apprtc">AppRTCBluetoothManager.State</a>&nbsp;getState()</pre>
<div class="block">Returns the internal state.</div>
</li>
</ul>
<a name="start--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Activates components required to detect Bluetooth devices and to enable
 BT SCO (audio is routed via BT SCO) for the headset profile. The end
 state will be HEADSET_UNAVAILABLE but a state machine has started which
 will start a state change sequence where the final outcome depends on
 if/when the BT headset is enabled.
 Example of state change sequence when start() is called while BT device
 is connected and enabled:
   UNINITIALIZED --> HEADSET_UNAVAILABLE --> HEADSET_AVAILABLE -->
   SCO_CONNECTING --> SCO_CONNECTED <==> audio is now routed via BT SCO.
 Note that the AppRTCAudioManager is also involved in driving this state
 change.</div>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops and closes all components related to Bluetooth audio.</div>
</li>
</ul>
<a name="startScoAudio--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startScoAudio</h4>
<pre>public&nbsp;boolean&nbsp;startScoAudio()</pre>
<div class="block">Starts Bluetooth SCO connection with remote device.
 Note that the phone application always has the priority on the usage of the SCO connection
 for telephony. If this method is called while the phone is in call it will be ignored.
 Similarly, if a call is received or sent while an application is using the SCO connection,
 the connection will be lost for the application and NOT returned automatically when the call
 ends. Also note that: up to and including API version JELLY_BEAN_MR1, this method initiates a
 virtual voice call to the Bluetooth headset. After API version JELLY_BEAN_MR2 only a raw SCO
 audio connection is established.
 TODO(henrika): should we add support for virtual voice call to BT headset also for JBMR2 and
 higher. It might be required to initiates a virtual voice call since many devices do not
 accept SCO audio without a "call".</div>
</li>
</ul>
<a name="stopScoAudio--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopScoAudio</h4>
<pre>public&nbsp;void&nbsp;stopScoAudio()</pre>
<div class="block">Stops Bluetooth SCO connection with remote device.</div>
</li>
</ul>
<a name="updateDevice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDevice</h4>
<pre>public&nbsp;void&nbsp;updateDevice()</pre>
<div class="block">Use the BluetoothHeadset proxy object (controls the Bluetooth Headset
 Service via IPC) to update the list of connected devices for the HEADSET
 profile. The internal state will change to HEADSET_UNAVAILABLE or to
 HEADSET_AVAILABLE and |bluetoothDevice| will be mapped to the connected
 device if available.</div>
</li>
</ul>
<a name="getAudioManager-android.content.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAudioManager</h4>
<pre>protected&nbsp;android.media.AudioManager&nbsp;getAudioManager(android.content.Context&nbsp;context)</pre>
<div class="block">Stubs for test mocks.</div>
</li>
</ul>
<a name="registerReceiver-android.content.BroadcastReceiver-android.content.IntentFilter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerReceiver</h4>
<pre>protected&nbsp;void&nbsp;registerReceiver(android.content.BroadcastReceiver&nbsp;receiver,
                                android.content.IntentFilter&nbsp;filter)</pre>
</li>
</ul>
<a name="unregisterReceiver-android.content.BroadcastReceiver-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterReceiver</h4>
<pre>protected&nbsp;void&nbsp;unregisterReceiver(android.content.BroadcastReceiver&nbsp;receiver)</pre>
</li>
</ul>
<a name="getBluetoothProfileProxy-android.content.Context-android.bluetooth.BluetoothProfile.ServiceListener-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBluetoothProfileProxy</h4>
<pre>protected&nbsp;boolean&nbsp;getBluetoothProfileProxy(android.content.Context&nbsp;context,
                                           android.bluetooth.BluetoothProfile.ServiceListener&nbsp;listener,
                                           int&nbsp;profile)</pre>
</li>
</ul>
<a name="hasPermission-android.content.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPermission</h4>
<pre>protected&nbsp;boolean&nbsp;hasPermission(android.content.Context&nbsp;context,
                                java.lang.String&nbsp;permission)</pre>
</li>
</ul>
<a name="logBluetoothAdapterInfo-android.bluetooth.BluetoothAdapter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logBluetoothAdapterInfo</h4>
<pre>protected&nbsp;void&nbsp;logBluetoothAdapterInfo(android.bluetooth.BluetoothAdapter&nbsp;localAdapter)</pre>
<div class="block">Logs the state of the local Bluetooth adapter.</div>
</li>
</ul>
<a name="updateAudioDeviceState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAudioDeviceState</h4>
<pre>private&nbsp;void&nbsp;updateAudioDeviceState()</pre>
<div class="block">Ensures that the audio manager updates its list of available audio devices.</div>
</li>
</ul>
<a name="startTimer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTimer</h4>
<pre>private&nbsp;void&nbsp;startTimer()</pre>
<div class="block">Starts timer which times out after BLUETOOTH_SCO_TIMEOUT_MS milliseconds.</div>
</li>
</ul>
<a name="cancelTimer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelTimer</h4>
<pre>private&nbsp;void&nbsp;cancelTimer()</pre>
<div class="block">Cancels any outstanding timer tasks.</div>
</li>
</ul>
<a name="bluetoothTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bluetoothTimeout</h4>
<pre>private&nbsp;void&nbsp;bluetoothTimeout()</pre>
<div class="block">Called when start of the BT SCO channel takes too long time. Usually
 happens when the BT device has been turned on during an ongoing call.</div>
</li>
</ul>
<a name="isScoOn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isScoOn</h4>
<pre>private&nbsp;boolean&nbsp;isScoOn()</pre>
<div class="block">Checks whether audio uses Bluetooth SCO.</div>
</li>
</ul>
<a name="stateToString-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stateToString</h4>
<pre>private&nbsp;java.lang.String&nbsp;stateToString(int&nbsp;state)</pre>
<div class="block">Converts BluetoothAdapter states into local string representations.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/appspot/apprtc/AppRTCAudioManager.WiredHeadsetReceiver.html" title="class in org.appspot.apprtc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/appspot/apprtc/AppRTCBluetoothManager.BluetoothHeadsetBroadcastReceiver.html" title="class in org.appspot.apprtc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/appspot/apprtc/AppRTCBluetoothManager.html" target="_top">Frames</a></li>
<li><a href="AppRTCBluetoothManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
